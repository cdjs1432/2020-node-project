
<!DOCTYPE html>
<html lang="en">
<%- include("../header"); %>
<body>
  <%- include("../menu"); %>
 
  <!-- Material form register -->
<div class="card winter-neva-gradient">

  <h5 class="card-header white-text text-center py-4">
      <strong>Log In</strong>
  </h5>

  <!--Card content-->
  <div class="card-body px-lg-5 pt-0 ">

      <!-- Form -->
      <form id="loginForm" class="text-center">
          <!-- E-mail -->
          <div class="md-form mt-5 input-with-pre-icon">
              <i class="fas fa-envelope input-prefix"></i>
              <input type="email" id="email" required class="form-control">
              <label for="email">E-mail</label>
          </div>

          <!-- Password -->
          <div class="md-form input-with-pre-icon">
              <i class="fas fa-lock input-prefix"></i>
              <input type="password" id="password" required class="form-control" aria-describedby="materialRegisterFormPasswordHelpBlock">
              <label for="password">Input Password</label>
          </div>
          
          <!-- Log in button -->
          <button class="btn btn-outline-info btn-rounded btn-block my-4 waves-effect z-depth-0" type="submit">Log In</button>

      </form>
      <!-- Form -->

  </div>

</div>
<!-- Material form register -->

  <%- include("../footer"); %>
  <script>
      $(function() {
          $("#loginForm").submit((event) => {
              event.preventDefault();
              // 로그인
              const email = $("#email").val();
              const password = $("#password").val();

          $.ajax({
              url: "/api/player/login",
              type: "POST",
              data: { email, password },
          }).done(() => {
              location.href = "/"
          }).fail((request, status, error) => {
              alert(request.responseText);
          });
      });
    });
  </script>
</body>
</html>
